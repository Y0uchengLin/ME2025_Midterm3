<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Order Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>
    <h1>訂單管理系統</h1>

    <!-- 新增商品資料按鈕 -->
    <button id="show-form-btn">新增商品資料</button>

    <!-- 訂單表單 (初始隱藏) -->
    <div id="order-form-container" style="display:none;">
        <form id="order-form">
            <label>客戶名稱:</label>
            <input type="text" name="customer-name" required><br>

            <label>日期:</label>
            <input type="date" name="product-date" value="{{ today }}" required><br>

            <label>商品分類:</label>
            <select id="category-select" name="product-category" required>
                <option value="">--請選擇分類--</option>
                <option value="飲料">飲料</option>
                <option value="主食">主食</option>
                <option value="點心">點心</option>
                <option value="輕食">輕食</option>
            </select><br>

            <label>商品名稱:</label>
            <select id="product-select" name="product-name" required>
                <option value="">--請選擇商品--</option>
            </select><br>

            <label>單價:</label>
            <input type="number" id="price" name="product-price" readonly><br>

            <label>數量:</label>
            <input type="number" id="amount" name="product-amount" min="1" value="1" required><br>

            <label>小計:</label>
            <input type="number" id="total" name="product-total" readonly><br>

            <label>狀態:</label>
            <select name="product-status" required>
                <option value="未付款" selected>未付款</option>
                <option value="已付款">已付款</option>
                <option value="已完成">已完成</option>
            </select><br>

            <label>備註:</label>
            <input type="text" name="product-note"><br>

            <button type="submit">送出訂單</button>
        </form>
    </div>

    <!-- 訂單列表 -->
    <h2>所有訂單</h2>
    <table border="1">
        <tr>
            <th>日期</th><th>客戶名稱</th><th>商品</th>
            <th>單價</th><th>數量</th><th>小計</th><th>狀態</th><th>備註</th><th>操作</th>
        </tr>
        {% for o in orders %}
        <tr>
            <td>{{ o[1] }}</td>
            <td>{{ o[2] }}</td>
            <td>{{ o[3] }}</td>
            <td>{{ o[4] }}</td>
            <td>{{ o[5] }}</td>
            <td>{{ o[6] }}</td>
            <td>{{ o[7] }}</td>
            <td>{{ o[8] }}</td>
            <td><button class="delete-btn" data-id="{{ o[0] }}">刪除</button></td>
        </tr>
        {% endfor %}
    </table>

    <script src="{{ url_for('static', filename='js/orderadd.js') }}"></script>
</body>
</html>
